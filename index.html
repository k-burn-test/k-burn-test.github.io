<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Shamrock dropdown styling -->
  <link rel="stylesheet" type="text/css" href="./styles/style.css">
</head>

<body>
  <div class="center-block">
    <label for="region-select">Please select the state you are interested in receiving information about.</label>
    <select id="region-select" onchange="loadOverlay()">
      <option value="16522">Alabama</option>
      <option value="15782">Alaska</option>
      <option value="14342">Arizona</option>
      <option value="14822">California</option>
      <option value="16702">Colorado</option>
      <option value="14122">Minnesota</option>
      <option value="15042">Wyoming</option>
    </select>
  </div>
  
  <!--Creates script tag for overlay signup-->
  <script>
    function loadOverlay() {
      localStorage.clear();
      let id = document.getElementById("region-select").value;
      let script = document.createElement("script");
      script.src="https://qc-public.govdelivery.com/assets/SignupOverlay.js";
      script.setAttribute("class", "govd-state-overlay");
      script.setAttribute("data-account-code", "KARATEST");
      script.setAttribute("data-signup-id", `${id}`);
      script.setAttribute("async", "");
      script.setAttribute("data-width", "500");
      script.setAttribute("data-delay","0");
      let scripts = document.getElementsByClassName("govd-state-overlay");
      if(scripts.length > 0){
        document.head.replaceChild(script, document.head.getElementsByClassName("govd-state-overlay")[0]);
      } else {
        document.head.appendChild(script);
      }
    }
  </script>
</body>
</html>